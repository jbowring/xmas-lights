{"4054225570": {"name": "Candle", "script": "# Pre-imported modules:\n#   math\n#   random\n#\n# Parameters:\n#   max_leds: LEDs in the string\n#   ticks: increments with each call\n#   timestep_ms: fixed duration between each tick\n#\n# Output:\n#   Put list of [max_leds * [R, G, B]] values into\n#   variable `result` (values mut be between 0 and 255)\n#\n# Note:\n#   Any declared variables remain for the duration of the\n#   pattern and are available in future calls\n\nnum_leds = 40\n\nALPHA = 0.25 # Smoothing factor\nCOLOR = (205,255,255) # Candleish, slightly off max brightness\n\ndef candle_pdf(x: float) -> float:\n    ''' Reshapes a random int between 0 and 1 to follow a candle flame PDF '''\n    return min(1,(abs((math.log(x)+6)/6) / 2) + 0.5)\n\ndef nextFrame(t: int, prevFrame: list) -> list:\n    # Assumes update at 72ms\n    out = []\n    if len(prevFrame) == 0:\n        prevFrame = [(0,0,0)] * num_leds\n    for i in range(num_leds):\n        # Calculate new intensity value, on 0 to 1 scale\n        val = candle_pdf(random.random())\n        # Extract old intensity value\n        old_val = prevFrame[i][0] / COLOR[0]\n        # Apply single pole IIR\n        new_val = old_val + ALPHA * (val-old_val)\n        # Set color\n        new_color = (int(new_val*COLOR[0]),\n                     int(new_val*COLOR[1]),\n                     int(new_val*COLOR[2]))\n        out.append(new_color)\n    return out\n\nprevFrame = []\nprevFrame = nextFrame(0, prevFrame)\nresult = prevFrame", "active": true, "author": "Chris", "error": null}, "982604784": {"name": "test3", "script": "# Pre-imported modules:\n#   math\n#   random\n#\n# Parameters:\n#   max_leds: LEDs in the string\n#   ticks: increments with each call\n#   timestep_ms: fixed duration between each tick\n#\n# Output:\n#   Put list of [max_leds * [R, G, B]] values into\n#   variable `result` (values mut be between 0 and 255)\n#\n# Note:\n#   Any declared variables remain for the duration of the\n#   pattern and are available in future calls\n\nresult = [[\n  255 * ((ticks + led_index) % max_leds) /max_leds,\n  180 * ((ticks + led_index) % max_leds) /max_leds,\n  123 * ((ticks + led_index) % max_leds) /max_leds,\n] for led_index in range(max_leds)]", "active": false, "author": "Jake balls", "error": null}, "1836307817": {"name": "trapz", "script": "spaceFreq = 20\ntimeFreq = 10\n\ndef trapz(ang:float):\n    ang = ang % 360\n    if 0 <= ang < 120:\n        return 0.00\n    elif 120 <= ang < 180:\n        return (ang - 120)/60\n    elif 180 <= ang < 300:\n        return 1\n    else:\n        return (1 - (ang - 300)/60)\n\nresult = [[\n    int(200 * trapz(120 + spaceFreq*led_index + timeFreq*ticks)),\n    int(255 * trapz(240 + spaceFreq*led_index + timeFreq*ticks)),\n    int(255 * trapz(spaceFreq*led_index + timeFreq*ticks)),\n] for led_index in range(max_leds)]\n\nresult=[(0,0,0) for x in range(max_leds)]\nfor x in range(max_leds):\n    offset = spaceFreq*abs(x-25) + timeFreq*ticks\n    result[x] = (int(200*(trapz(120+offset))),\\\n        int(255*trapz(240+offset)),\\\n        int(255*trapz(offset)))", "active": false, "author": "Tom", "error": null}, "698419291": {"name": "New pattern", "script": "# Imported modules:\n#   math\n#   random\n#\n# Parameters:\n#   led_index: current LED\n#   max_leds: LEDs in the string\n#   time_seconds: current time as a float (starts at 0.0)\n#\n# Output:\n#   Put list of [R, G, B] values into variable `result`\n#   Values mut be between 0 and 255\n\nreturn", "active": false, "author": "Whoever you want", "error": "  File \"New pattern\", line 14, in <module>\nSyntaxError: 'return' outside function\n"}, "331035799": {"name": "test2", "script": "# Imported modules:\n#   math\n#   random\n#\n# Parameters:\n#   led_index: current LED\n#   max_leds: LEDs in the string\n#   time_seconds: current time as a float (starts at 0.0)\n#\n# Output:\n#   Put list of [R, G, B] values into variable `result`\n#   Values mut be between 0 and 255\n\nresult = [\n  255 * (time_seconds + led_index)/max_leds,\n  180 * (time_seconds + led_index)/max_leds,\n  123 * (time_seconds + led_index)/max_leds,\n]", "active": false, "author": "noone", "error": "ValueError: result values [256, 180, 123] are not between 0 and 255\n"}, "4168134907": {"name": "Test new", "script": "# Pre-imported modules:\n#   math\n#   random\n#\n# Parameters:\n#   max_leds: LEDs in the string\n#   ticks: increments with each call\n#   timestep_ms: fixed duration between each tick\n#\n# Output:\n#   Put list of [max_leds * [R, G, B]] values into\n#   variable `result` (values mut be between 0 and 255)\n#\n# Note:\n#   Any declared variables remain for the duration of the\n#   pattern and are available in future calls\n\nresult = [[\n  255 * ((ticks + led_index) % max_leds) /max_leds,\n  180 * ((ticks + led_index) % max_leds) /max_leds,\n  123 * ((ticks + led_index) % max_leds) /max_leds,\n] for led_index in range(max_leds)]", "active": false, "author": "Joel", "error": "  File \"<stdin>\", line 281, in main\nNameError: name 'result' isn't defined\n"}, "1711657918": {"name": "static flash", "script": "def fun(x):\n    return x\n\nresult = [[fun(255) if (ticks % 2 == 0) else 0] * 3] * max_leds", "active": false, "author": "Joel", "error": "  File \"<stdin>\", line 281, in main\nNameError: name 'result' isn't defined\n"}}